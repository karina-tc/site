---
---

<script>
    function checkScrollIntersection() {
        const navigationListenerElements = document.querySelectorAll('.nav-listener');
        const navigationChangerElements = document.querySelectorAll('.nav-invert');
        const navElement = document.getElementById('nav');
        const topperElement = document.querySelector('.topper');

        navigationListenerElements.forEach((navigationListener) => {
            const navigationListenerRect = navigationListener.getBoundingClientRect();
            const isInverted = Array.from(navigationChangerElements).some((invertElement) => {
                const invertElementRect = invertElement.getBoundingClientRect();
                return (
                    invertElementRect.top < navigationListenerRect.bottom &&
                    invertElementRect.bottom > navigationListenerRect.top
                );
            });

            navigationListener.classList.toggle('invert', isInverted);
        });

        // Check scroll position to add "onthemove" class to "nav" element
        if (topperElement && navElement) {
            if (topperElement.getBoundingClientRect().bottom < 0) {
                navElement.classList.add('onthemove');
            } else {
                navElement.classList.remove('onthemove');
            }
        }
    }

    // Example usage on scroll event
    window.addEventListener('scroll', checkScrollIntersection);
</script>

