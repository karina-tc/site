---
import Icon from "../components/Icon.astro";

export interface Props {
    href: string;
    icon: string;
    label: string;
}

const { href, icon, label } = Astro.props;
const pathname = new URL(Astro.request.url).pathname;
const components = pathname.split('/')
const root = "/" + components[1]

---

<a class:list={`menu-link ${root === href ? 'active' : ''}`} href={href}>
    <Icon name={icon} size="small" />
    <span>{label}</span>
</a>

<style lang="scss">
    .menu-link {
        width: 100;
        display: flex;
        align-items: center;
        gap: 1rem;
        padding: 1.25rem;
        text-decoration: none;
        border-radius: .75rem;
        border: 2px solid var(--brandLight);
        color: var(--brandLight);
        transition: all .3s ease-in-out;

        &:hover {
            color: var(--brandDark);
            border-color: var(--brand300);
            background-color: var(--brand300);
        }

        &:focus {
            color: var(--brandLight);
            background-color: var(--brandDark);
            border-color: var(--brandDark);
        }

        &.active {
            color: var(--brandDark);
            background-color: var(--brandLight);
        }
    }
</style>