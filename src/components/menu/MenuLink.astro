---
export interface Props {
    href: string;
    label: string;
}

const { href, label } = Astro.props;
const pathname = new URL(Astro.request.url).pathname;
const components = pathname.split('/')
const root = "/" + components[1]

---

<a class:list={`link ${root === href ? 'active' : ''}`} href={href}>{label}</a>

<style lang="scss">
    .link {
        text-decoration: none;
        border-bottom: 2px solid transparent;
        transition: color 0.3s ease-in-out;
        position: relative;
        padding-bottom: 4px;

        &::after {
            content: "";
            position: absolute;
            bottom: 0;
            left: 0;
            width: 100%;
            height: 2px;
            background-color: var(--light-ink);
            transform: scaleX(0);
            transform-origin: left;
            transition: transform 0.3s ease-in-out;
        }

        &:hover::after {
            transform: scaleX(1);
        }

        &.active {
            font-weight: 600;
            &::after {
                transform: scaleX(1);
            }
        }
    }
</style>